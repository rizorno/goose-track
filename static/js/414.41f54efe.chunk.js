"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[414],{8414:function(t,s,e){e.r(s),e.d(s,{default:function(){return X}});var a=e(9434),n=e(7262),r=e(8527),i=e(4522);var l=e(5719),d=e(4888),o=e(467),c=function(t){var s=(0,l.default)(new Date(t)),e=(0,d.default)(new Date(t)),a=(0,o.default)(s)-1,n=function(t,s){var e;(0,i.Z)(1,arguments);var a=t||{},n=(0,r.default)(a.start),l=(0,r.default)(a.end).getTime();if(!(n.getTime()<=l))throw new RangeError("Invalid interval");var d=[],o=n;o.setHours(0,0,0,0);var c=Number(null!==(e=null===s||void 0===s?void 0:s.step)&&void 0!==e?e:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;o.getTime()<=l;)d.push((0,r.default)(o)),o.setDate(o.getDate()+c),o.setHours(0,0,0,0);return d}({start:s,end:e});return{startMonth:s,endMonth:e,firstDayOfMonth:a,daysOfMonth:n}},u=e(1710),h=e(4454),m=e(5193),f="monthCalendarHead_monthHeadList__I1dbF",_="monthCalendarHead_monthHeadItem__cZyzh",x=e(184),k=function(){var t=(0,m.Z)("(max-width: 767.9px)"),s=["m","t","w","t","f","s","s"],e=["mon","tue","wed","thu","fri","sat","sund"],a=function(t){return("shot"===t?s:e).map((function(t,s){return(0,x.jsx)("li",{className:(5===s||6===s)&&_,children:t},t)}))};return(0,x.jsx)(x.Fragment,{children:t?(0,x.jsx)("ul",{className:f,children:a("shot")}):(0,x.jsx)("ul",{className:f,children:a("long")})})},j=e(7689),v=e(1951),g=e(8897),p=e(9439),y=e(2791),w=e(4690);function T(t){return(0,i.Z)(1,arguments),(0,w.default)(t,Date.now())}var N=e(9831),b=function(t){var s=t.split("-")[2];return s.startsWith("0")?s.slice(1):s},M=e(68),Z=e(6294),L=e(9390),C="tasksList_tasksListStyle__W8q2E",D="tasksList_tasksListItem__x1-jw",E="tasksList_lowColor__0mTTe",W="tasksList_mediumColor__VZVrR",I="tasksList_highColor__30O4C",H="tasksList_iconCheck__c8N7t",O=function(t){var s,e=t.task,a=(0,m.Z)("(max-width: 767.9px)"),n=(0,m.Z)("(max-width: 1439.9px)"),r=(0,m.Z)("(min-width: 1440px)"),i=(0,y.useState)(!1),l=(0,p.Z)(i,2),d=l[0],o=l[1],c=function(){o(!d)};return(0,x.jsxs)("div",{className:C,children:[(0,x.jsx)("div",{className:D,onClick:c,children:(0,x.jsxs)("p",{className:"low"===e.priority&&E||"medium"===e.priority&&W||"high"===e.priority&&I,children:[(s=e.title,a&&s.length>3?s.substring(0,3)+"...":n&&s.length>8?s.substring(0,8)+"...":r&&s.length>16?s.substring(0,16)+"...":s),a?null:"toDo"===e.status&&(0,x.jsx)(M.Z,{title:"To Do",placement:"top",arrow:!0,children:(0,x.jsx)("svg",{className:H,children:(0,x.jsx)("use",{href:L.Z+"#task-todo"})})})||"inProgress"===e.status&&(0,x.jsx)(M.Z,{title:"In progress",placement:"top",arrow:!0,children:(0,x.jsx)("svg",{className:H,children:(0,x.jsx)("use",{href:L.Z+"#task-inprogress"})})})||"done"===e.status&&(0,x.jsx)(M.Z,{title:"Done",placement:"top",arrow:!0,children:(0,x.jsx)("svg",{className:H,children:(0,x.jsx)("use",{href:L.Z+"#task-done"})})})]})},e._id),d&&(0,x.jsx)(Z.Z,{task:e,closeModal:c,overlayClose:function(t){t.target===t.currentTarget&&o(!d)}})]})},F="modalTaskList_overlay__Gn0b1",S="modalTaskList_modalWrapper__3jHuU",A="modalTaskList_modalBox__hAisU",B=function(t){var s=t.taskList,e=t.closeModalList,a=(0,m.Z)("(max-width: 767.9px)");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:F,onClick:e}),(0,x.jsx)("div",{className:S,children:(0,x.jsx)("div",{className:A,children:s.tasks.map((function(t,s){return(0,x.jsx)("div",{children:a?s>0&&(0,x.jsx)(O,{task:t}):s>1&&(0,x.jsx)(O,{task:t})},s)}))})})]})},G="daysWithTasks_styledTd__DGEua",R="daysWithTasks_styledNumberDay__OvvxE",V="daysWithTasks_today__sqVjM",q="daysWithTasks_styledModalTd__ve0BM",J="daysWithTasks_burgerListTasks__AZIKv",P=function(t){var s=t.day,e=t.handleClick,a=(0,m.Z)("(max-width: 767.9px)"),n=(0,y.useState)(!1),r=(0,p.Z)(n,2),i=r[0],l=r[1];(0,y.useEffect)((function(){var t=function(t){"Escape"===t.code&&i&&l(!i)};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[i]);var d=function(){l(!i)};return(0,x.jsxs)("td",{className:G,onClick:function(t){return e(t,s.date)},children:[(0,x.jsx)("p",{className:T((0,N.default)(s.date))?V:R,onClick:function(t){return e(t,s.date)},children:b(s.date)}),s.tasks.length>0?(0,x.jsxs)(x.Fragment,{children:[s.tasks.map((function(t,s){return(0,x.jsx)("div",{children:a?0===s&&(0,x.jsx)(O,{task:t}):s<=1&&(0,x.jsx)(O,{task:t})},s)})),a&&s.tasks.length>1?(0,x.jsxs)("p",{className:J,onClick:d,children:["+",s.tasks.length-1," ..."]}):!a&&s.tasks.length>2?(0,x.jsxs)("p",{className:J,onClick:d,children:["+",s.tasks.length-2," tasks"]}):null]}):null,i&&(0,x.jsx)("div",{className:q,children:(0,x.jsx)(B,{closeModalList:function(t){t.target===t.currentTarget&&l(!i)},taskList:s})})]})},U="calendarTable_calendarTableWrapper__idOhD",z="calendarTable_calendarTableStyle__7uTI4",K="calendarTable_claendarTableBody__Jrm6I",Y=function(t){var s=t.tasks,e=t.currentDate,n=(0,a.I0)(),r=(0,j.s0)(),i=c(e),l=i.daysOfMonth,d=i.firstDayOfMonth,o=l.map((function(t){return{date:(0,v.default)(t,"yyyy-MM-dd"),tasks:s.filter((function(s){return s.date.start.slice(0,10)===(0,v.default)(t,"yyyy-MM-dd")}))}})),u=function(t,s){t.currentTarget===t.target&&(n((0,g.G)(s)),r("/calendar/day/".concat(s)))},h=[],m=function(t){return Array.from({length:t},(function(t,s){return(0,x.jsx)("td",{},"empty-".concat(s))}))}(d);return o.forEach((function(t,s){m.push((0,x.jsx)(P,{day:t,handleClick:u},s)),7!==m.length&&s!==o.length-1||(h.push((0,x.jsx)("tr",{children:m},t.date)),m=[])})),(0,x.jsx)("div",{className:U,children:(0,x.jsx)("table",{className:z,children:(0,x.jsx)("tbody",{className:K,children:h})})})},Q="choosedMonth_choosedMonthWrapper__gJPgY",X=function(){var t=(0,a.v9)(u.i),s=(0,a.v9)(h.p),e=c(t),r=e.startMonth,i=e.endMonth,l=s.filter((function(t){var s=new Date(t.date.start);return(0,n.default)(s,{start:r,end:i})}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(k,{}),(0,x.jsx)("div",{className:Q,children:(0,x.jsx)(Y,{tasks:l,currentDate:t})})]})}}}]);
//# sourceMappingURL=414.41f54efe.chunk.js.map