"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[414],{8414:function(t,e,a){a.r(e),a.d(e,{default:function(){return et}});var s=a(7689),n=a(9434),r=a(7262),i=a(8527),l=a(4522);var c=a(5719),d=a(4888),o=a(467),u=function(t){var e=(0,c.default)(new Date(t)),a=(0,d.default)(new Date(t)),s=(0,o.default)(e)-1,n=function(t,e){var a;(0,l.Z)(1,arguments);var s=t||{},n=(0,i.default)(s.start),r=(0,i.default)(s.end).getTime();if(!(n.getTime()<=r))throw new RangeError("Invalid interval");var c=[],d=n;d.setHours(0,0,0,0);var o=Number(null!==(a=null===e||void 0===e?void 0:e.step)&&void 0!==a?a:1);if(o<1||isNaN(o))throw new RangeError("`options.step` must be a number greater than 1");for(;d.getTime()<=r;)c.push((0,i.default)(d)),d.setDate(d.getDate()+o),d.setHours(0,0,0,0);return c}({start:e,end:a});return{startMonth:e,endMonth:a,firstDayOfMonth:s,daysOfMonth:n}},h=a(1710),m=a(4454),_=a(5193),f={monthHeadList:"monthCalendarHead_monthHeadList__I1dbF",monthHeadItem:"monthCalendarHead_monthHeadItem__cZyzh"},x=a(184),k=function(){var t=(0,_.Z)("(max-width: 767.9px)"),e=["m","t","w","t","f","s","s"],a=["mon","tue","wed","thu","fri","sat","sun"],s=function(t){return("shot"===t?e:a).map((function(t,e){return(0,x.jsx)("li",{className:5===e||6===e?f.monthHeadItem:f.dayItem,children:t},e)}))};return(0,x.jsx)(x.Fragment,{children:t?(0,x.jsx)("ul",{className:f.monthHeadList,children:s("shot")}):(0,x.jsx)("ul",{className:f.monthHeadList,children:s("long")})})},v=a(1951),j=a(8897),p=a(9439),g=a(2791),y=a(4690);function T(t){return(0,l.Z)(1,arguments),(0,y.default)(t,Date.now())}var w=a(9831),N=function(t){var e=t.split("-")[2];return e.startsWith("0")?e.slice(1):e},M=a(68),b=a(6294),L=a(9390),Z="tasksList_tasksListStyle__W8q2E",C="tasksList_tasksListItem__x1-jw",D="tasksList_lowColor__0mTTe",H="tasksList_mediumColor__VZVrR",I="tasksList_highColor__30O4C",W="tasksList_iconCheck__c8N7t",E=function(t){var e,a=t.task,s=(0,_.Z)("(max-width: 767.9px)"),n=(0,_.Z)("(max-width: 1439.9px)"),r=(0,_.Z)("(min-width: 1440px)"),i=(0,g.useState)(!1),l=(0,p.Z)(i,2),c=l[0],d=l[1],o=function(){d(!c)};return(0,x.jsxs)("div",{className:Z,children:[(0,x.jsx)("div",{className:C,onClick:o,children:(0,x.jsxs)("p",{className:"low"===a.priority&&D||"medium"===a.priority&&H||"high"===a.priority&&I,children:[(e=a.title,s&&e.length>3?e.substring(0,3)+"...":n&&e.length>8?e.substring(0,8)+"...":r&&e.length>16?e.substring(0,16)+"...":e),s?null:"toDo"===a.status&&(0,x.jsx)(M.Z,{title:"To Do",placement:"top",arrow:!0,children:(0,x.jsx)("svg",{className:W,children:(0,x.jsx)("use",{href:L.Z+"#task-todo"})})})||"inProgress"===a.status&&(0,x.jsx)(M.Z,{title:"In progress",placement:"top",arrow:!0,children:(0,x.jsx)("svg",{className:W,children:(0,x.jsx)("use",{href:L.Z+"#task-inprogress"})})})||"done"===a.status&&(0,x.jsx)(M.Z,{title:"Done",placement:"top",arrow:!0,children:(0,x.jsx)("svg",{className:W,children:(0,x.jsx)("use",{href:L.Z+"#task-done"})})})]})},a._id),c&&(0,x.jsx)(b.Z,{task:a,closeModal:o,overlayClose:function(t){t.target===t.currentTarget&&d(!c)}})]})},O="modalTaskList_overlay__Gn0b1",F="modalTaskList_modalWrapper__3jHuU",J="modalTaskList_modalBox__hAisU",S=function(t){var e=t.taskList,a=t.closeModalList,s=(0,_.Z)("(max-width: 767.9px)");return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:O,onClick:a}),(0,x.jsx)("div",{className:F,children:(0,x.jsx)("div",{className:J,children:e.tasks.map((function(t,e){return(0,x.jsx)("div",{children:s?e>0&&(0,x.jsx)(E,{task:t}):e>1&&(0,x.jsx)(E,{task:t})},e)}))})})]})},V="daysWithTasks_styledTd__DGEua",A="daysWithTasks_styledNumberDay__OvvxE",B="daysWithTasks_today__sqVjM",G="daysWithTasks_styledModalTd__ve0BM",R="daysWithTasks_burgerListTasks__AZIKv",U=function(t){var e=t.day,a=t.handleClick,s=(0,_.Z)("(max-width: 767.9px)"),n=(0,g.useState)(!1),r=(0,p.Z)(n,2),i=r[0],l=r[1];(0,g.useEffect)((function(){var t=function(t){"Escape"===t.code&&i&&l(!i)};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[i]);var c=function(){l(!i)};return(0,x.jsxs)("td",{className:V,onClick:function(t){return a(t,e.date)},children:[(0,x.jsx)("p",{className:T((0,w.default)(e.date))?B:A,onClick:function(t){return a(t,e.date)},children:N(e.date)}),e.tasks.length>0?(0,x.jsxs)(x.Fragment,{children:[e.tasks.map((function(t,e){return(0,x.jsx)("div",{children:s?0===e&&(0,x.jsx)(E,{task:t}):e<=1&&(0,x.jsx)(E,{task:t})},e)})),s&&e.tasks.length>1?(0,x.jsxs)("p",{className:R,onClick:c,children:["+",e.tasks.length-1," ..."]}):!s&&e.tasks.length>2?(0,x.jsxs)("p",{className:R,onClick:c,children:["+",e.tasks.length-2," tasks"]}):null]}):null,i&&(0,x.jsx)("div",{className:G,children:(0,x.jsx)(S,{closeModalList:function(t){t.target===t.currentTarget&&l(!i)},taskList:e})})]})},q="calendarTable_calendarTableWrapper__idOhD",P="calendarTable_calendar__M2MDW",z="calendarTable_filter__cJJ4h",K="calendarTable_calendarTableStyle__7uTI4",Y="calendarTable_claendarTableBody__Jrm6I",Q=function(t){var e=t.tasks,a=t.currentDate,r=(0,n.I0)(),i=(0,s.s0)(),l=(0,s.TH)().pathname,c=u(a),d=c.daysOfMonth,o=c.firstDayOfMonth,h=d.map((function(t){return{date:(0,v.default)(t,"yyyy-MM-dd"),tasks:e.filter((function(e){return e.date.start.slice(0,10)===(0,v.default)(t,"yyyy-MM-dd")}))}})),m=function(t,e){t.currentTarget===t.target&&(r((0,j.G)(e)),i("/calendar/day/".concat(e)))},_=[],f=function(t){return Array.from({length:t},(function(t,e){return(0,x.jsx)("td",{},"empty-".concat(e))}))}(o);return h.forEach((function(t,e){f.push((0,x.jsx)(U,{day:t,handleClick:m},e)),7!==f.length&&e!==h.length-1||(_.push((0,x.jsx)("tr",{children:f},t.date)),f=[])})),(0,x.jsx)("div",{className:l.includes("filter")?"".concat(q," ").concat(z):"".concat(q," ").concat(P),children:(0,x.jsx)("table",{className:K,children:(0,x.jsx)("tbody",{className:Y,children:_})})})},X="choosedMonth_choosedMonthWrapper__gJPgY",$="choosedMonth_calendar__cUIFv",tt="choosedMonth_filter__Wb9V1",et=function(){var t=(0,s.TH)().pathname,e=(0,n.v9)(h.i),a=(0,n.v9)(m.p),i=u(e),l=i.startMonth,c=i.endMonth,d=a.filter((function(t){var e=new Date(t.date.start);return(0,r.default)(e,{start:l,end:c})}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(k,{}),(0,x.jsx)("div",{className:t.includes("filter")?"".concat(X," ").concat(tt):"".concat(X," ").concat($),children:(0,x.jsx)(Q,{tasks:d,currentDate:e})})]})}}}]);
//# sourceMappingURL=414.c3850d90.chunk.js.map