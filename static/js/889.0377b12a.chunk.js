"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[889],{8889:function(e,a,r){r.r(a),r.d(a,{default:function(){return I}});var n=r(5861),t=r(9439),s=r(4687),l=r.n(s),i=r(2791),o=r(9434),m=r(5705),c=r(1686),u=r.n(c),d=r(3853),f=r(8820),p=r(9513),h=r.n(p),v=(r(8639),r(3747)),y=r(2599),_=r(6727),x=_.Ry({name:_.Z_().max(16,"Must be 16 characters or less").required(),phone:_.Z_().matches(/(?=.*\+[0-9]{3}\s?[0-9]{2}\s?[0-9]{3}\s?[0-9]{4,5}$)/,"invalid phone number format"),birthday:_.hT().default((function(){return new Date})),email:_.Z_().email("Invalid email address").required("Required"),skype:_.Z_().min(6,"Must be 6 characters or more").max(16,"Must be 16 characters or less")}),b=r(6222),j=r.n(b)()(1923,(0,y.default)(new Date)+1,1),g=["January","February","March","April","May","June","July","August","September","October","November","December"],N=r(8630),C=r(4289),k={userContainer:"userProfile_userContainer__rNFTM",userWrapper:"userProfile_userWrapper__7L5SM",formAvatar:"userProfile_formAvatar__L+UBj",containerAvatar:"userProfile_containerAvatar__HQl9m",avatarImage:"userProfile_avatarImage__PS3tk",inputUpload:"userProfile_inputUpload__QYY2l",btnUpload:"userProfile_btnUpload__QtKNo",avatarName:"userProfile_avatarName__S+TOX",avatarRole:"userProfile_avatarRole__norpC",formCenter:"userProfile_formCenter__5hmyK",formRow:"userProfile_formRow__1Mais",formLabel:"userProfile_formLabel__fO97x",formInput:"userProfile_formInput__p9XMq",formBtn:"userProfile_formBtn__JIyAl",formError:"userProfile_formError__mdITL",pickerBox:"userProfile_pickerBox__yFTtP",iconCalendar:"userProfile_iconCalendar__LoD9t",dateIcon:"userProfile_dateIcon__bZ4WM",iconCalendarWrapeer:"userProfile_iconCalendarWrapeer__yc9eL",customCalendarStyle:"userProfile_customCalendarStyle__1Ipi2"},P=r(184),R=function(){var e=(0,o.v9)(C.PR),a=(0,i.useState)(null),r=(0,t.Z)(a,2),s=r[0],c=r[1],p=(0,i.useState)(!1),_=(0,t.Z)(p,2),b=_[0],R=_[1],I=(0,o.I0)();(0,i.useEffect)((function(){b&&(I((0,N.RZ)()),R(!1))}),[I,b]);var S=function(){var a=(0,n.Z)(l().mark((function a(r,n){var t,i,o;return l().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=n.resetForm,(i=new FormData).append("avatar",s),o={name:r.name.trim(),birthday:r.birthday,phone:r.phone.trim(),skype:r.skype.trim()},a.prev=4,a.t0=s,!a.t0){a.next=9;break}return a.next=9,I((0,N.Pt)(i));case 9:if(a.t1=r.name.trim()!==e.name||r.birthday.toISOString()!==e.birthday||r.phone.trim()!==e.phone||r.skype.trim()!==e.skype,!a.t1){a.next=13;break}return a.next=13,I((0,N.Mp)(o));case 13:u().Notify.success("User profile is succesfully updated"),R(!0),t(),a.next=21;break;case 18:a.prev=18,a.t2=a.catch(4),u().Notify.failure("Something went wrong. Please try again");case 21:case"end":return a.stop()}}),a,null,[[4,18]])})));return function(e,r){return a.apply(this,arguments)}}();return(0,P.jsx)("div",{className:k.userContainer,children:(0,P.jsx)("div",{className:k.userWrapper,children:(0,P.jsx)(m.J9,{enableReinitialize:!0,initialValues:{name:e.name||"",phone:e.phone?e.phone:"",birthday:e.birthday?new Date(e.birthday):new Date,skype:e?e.skype:"",email:e?e.email:""},validationSchema:x,onSubmit:S,children:function(a){var r=a.values,n=a.handleChange,t=a.handleBlur,l=a.handleSubmit;return(0,P.jsxs)(m.l0,{autoComplete:"off",onSubmit:l,children:[(0,P.jsxs)("div",{className:k.formAvatar,children:[(0,P.jsxs)("div",{className:k.containerAvatar,children:[s?(0,P.jsx)("img",{src:URL.createObjectURL(s),className:k.avatarImage,accept:"image/*,.png,.jpeg,.jpg,.gif,.web",alt:"avatar"}):null!==e&&void 0!==e&&e.avatarURL?(0,P.jsx)("img",{src:null===e||void 0===e?void 0:e.avatarURL,className:k.avatarImage,alt:"avatar"}):(0,P.jsx)(f.nf1,{className:k.avatarIcon}),(0,P.jsxs)("label",{children:[(0,P.jsx)("button",{className:k.btnUpload,children:(0,P.jsx)(d.OvN,{})}),(0,P.jsx)("input",{className:k.inputUpload,id:"avatar",type:"file",accept:"image/*,.png,.jpeg,.jpg,.gif,.web",onChange:function(e){c(e.target.files[0]),n(e)}})]})]}),(0,P.jsx)("h3",{className:k.avatarName,children:e.name?e.name:"No name"}),(0,P.jsx)("p",{className:k.avatarRole,children:"User"})]}),(0,P.jsxs)("div",{className:k.formCenter,children:[(0,P.jsx)("div",{className:k.formRow,children:(0,P.jsxs)("label",{className:k.formLabel,children:["User Name",(0,P.jsx)("input",{className:k.formInput,type:"text",name:"name",placeholder:"Name",value:r.name,onChange:function(e){n(e)},onBlur:t}),(0,P.jsx)(m.Bc,{className:k.formError,component:"div",name:"name"})]})}),(0,P.jsx)("div",{className:k.formRow,children:(0,P.jsxs)("label",{className:k.formLabel,children:["Birthday",(0,P.jsxs)("div",{className:k.pickerBox,children:[(0,P.jsx)("div",{className:k.iconCalendarWrapeer}),(0,P.jsx)(h(),{id:"date",type:"date",name:"birthday",input:!0,className:k.formInput,dayClassName:function(e){return function(e){var a=e.getDay();return 0===a||6===a}(e)?"weekend-day":void 0},calendarClassName:k.customCalendarStyle,formatWeekDay:function(e){return e.slice(0,1)},selected:r.birthday,onChange:function(e){n({target:{name:"birthday",value:e}})},dateFormat:"dd/MM/yyyy",calendarStartDay:1,closeOnScroll:function(e){return e.target===document},renderCustomHeader:function(e){var a=e.date,r=e.changeYear,n=e.changeMonth;return(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:10},children:[(0,P.jsx)("select",{style:{color:"#111111",padding:5,marginLeft:5,marginRight:5,borderRadius:5},value:g[(0,v.default)(a)],onChange:function(e){var a=e.target.value;return n(g.indexOf(a))},children:g.map((function(e){return(0,P.jsx)("option",{value:e,children:e},e)}))}),(0,P.jsx)("select",{style:{color:"#111111",padding:5,marginRight:5,borderRadius:5},value:(0,y.default)(a),onChange:function(e){var a=e.target.value;return r(a)},children:j.map((function(e){return(0,P.jsx)("option",{value:e,children:e},e)}))})]})}}),(0,P.jsx)(d.bTu,{className:k.dateIcon})]}),(0,P.jsx)(m.Bc,{className:k.formError,name:"birthday"})]})}),(0,P.jsx)("div",{className:k.formRow,children:(0,P.jsxs)("label",{className:k.formLabel,children:["Email",(0,P.jsx)("input",{className:k.formInput,disabled:!0,type:"email",name:"email",placeholder:"Email",value:r.email,onChange:function(e){n(e)},onBlur:t}),(0,P.jsx)(m.Bc,{className:k.formError,component:"div",name:"email"})]})}),(0,P.jsx)("div",{className:k.formRow,children:(0,P.jsxs)("label",{className:k.formLabel,children:["Phone",(0,P.jsx)("input",{className:k.formInput,type:"tel",name:"phone",placeholder:"+380",value:r.phone,onChange:function(e){n(e)},onBlur:t}),(0,P.jsx)(m.Bc,{className:k.formError,component:"div",name:"phone"})]})}),(0,P.jsx)("div",{className:k.formRow,children:(0,P.jsxs)("label",{className:k.formLabel,children:["Skype",(0,P.jsx)("input",{className:k.formInput,type:"text",name:"skype",placeholder:"Add a skype",value:r.skype,onChange:function(e){n(e)},onBlur:t}),(0,P.jsx)(m.Bc,{component:"div",className:k.formError,name:"skype"})]})})]}),(0,P.jsx)("button",{className:k.formBtn,type:"submit",disabled:""===r.name.trim()||""===r.email.trim()||null===s&&r.birthday.toISOString()===e.birthday&&r.name.trim()===e.name&&r.email.trim()===e.email&&r.phone.trim()===e.phone&&r.skype.trim()===e.skype,children:"Save changes"})]})}})})})},I=function(){return(0,P.jsx)(R,{})}}}]);
//# sourceMappingURL=889.0377b12a.chunk.js.map