"use strict";(self.webpackChunkgoose_track=self.webpackChunkgoose_track||[]).push([[414],{8414:function(t,e,s){s.r(e),s.d(e,{default:function(){return Q}});var a=s(9434),n=s(7262),r=s(8527),i=s(4522);var l=s(5719),d=s(4888),o=s(467),c=function(t){var e=(0,l.default)(new Date(t)),s=(0,d.default)(new Date(t)),a=(0,o.default)(e)-1,n=function(t,e){var s;(0,i.Z)(1,arguments);var a=t||{},n=(0,r.default)(a.start),l=(0,r.default)(a.end).getTime();if(!(n.getTime()<=l))throw new RangeError("Invalid interval");var d=[],o=n;o.setHours(0,0,0,0);var c=Number(null!==(s=null===e||void 0===e?void 0:e.step)&&void 0!==s?s:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;o.getTime()<=l;)d.push((0,r.default)(o)),o.setDate(o.getDate()+c),o.setHours(0,0,0,0);return d}({start:e,end:s});return{startMonth:e,endMonth:s,firstDayOfMonth:a,daysOfMonth:n}},u=s(1710),h=s(4454),m=s(5193),f={monthHeadList:"monthCalendarHead_monthHeadList__I1dbF",monthHeadItem:"monthCalendarHead_monthHeadItem__cZyzh"},_=s(184),x=function(){var t=(0,m.Z)("(max-width: 767.9px)"),e=["m","t","w","t","f","s","s"],s=["mon","tue","wed","thu","fri","sat","sun"],a=function(t){return("shot"===t?e:s).map((function(t,e){return(0,_.jsx)("li",{className:5===e||6===e?f.monthHeadItem:f.dayItem,children:t},e)}))};return(0,_.jsx)(_.Fragment,{children:t?(0,_.jsx)("ul",{className:f.monthHeadList,children:a("shot")}):(0,_.jsx)("ul",{className:f.monthHeadList,children:a("long")})})},k=s(7689),j=s(1951),v=s(8897),g=s(9439),p=s(2791),y=s(4690);function w(t){return(0,i.Z)(1,arguments),(0,y.default)(t,Date.now())}var T=s(9831),N=function(t){var e=t.split("-")[2];return e.startsWith("0")?e.slice(1):e},L=s(68),b=s(6294),M=s(9390),Z="tasksList_tasksListStyle__W8q2E",C="tasksList_tasksListItem__x1-jw",D="tasksList_lowColor__0mTTe",H="tasksList_mediumColor__VZVrR",I="tasksList_highColor__30O4C",E="tasksList_iconCheck__c8N7t",W=function(t){var e,s=t.task,a=(0,m.Z)("(max-width: 767.9px)"),n=(0,m.Z)("(max-width: 1439.9px)"),r=(0,m.Z)("(min-width: 1440px)"),i=(0,p.useState)(!1),l=(0,g.Z)(i,2),d=l[0],o=l[1],c=function(){o(!d)};return(0,_.jsxs)("div",{className:Z,children:[(0,_.jsx)("div",{className:C,onClick:c,children:(0,_.jsxs)("p",{className:"low"===s.priority&&D||"medium"===s.priority&&H||"high"===s.priority&&I,children:[(e=s.title,a&&e.length>3?e.substring(0,3)+"...":n&&e.length>8?e.substring(0,8)+"...":r&&e.length>16?e.substring(0,16)+"...":e),a?null:"toDo"===s.status&&(0,_.jsx)(L.Z,{title:"To Do",placement:"top",arrow:!0,children:(0,_.jsx)("svg",{className:E,children:(0,_.jsx)("use",{href:M.Z+"#task-todo"})})})||"inProgress"===s.status&&(0,_.jsx)(L.Z,{title:"In progress",placement:"top",arrow:!0,children:(0,_.jsx)("svg",{className:E,children:(0,_.jsx)("use",{href:M.Z+"#task-inprogress"})})})||"done"===s.status&&(0,_.jsx)(L.Z,{title:"Done",placement:"top",arrow:!0,children:(0,_.jsx)("svg",{className:E,children:(0,_.jsx)("use",{href:M.Z+"#task-done"})})})]})},s._id),d&&(0,_.jsx)(b.Z,{task:s,closeModal:c,overlayClose:function(t){t.target===t.currentTarget&&o(!d)}})]})},O="modalTaskList_overlay__Gn0b1",F="modalTaskList_modalWrapper__3jHuU",S="modalTaskList_modalBox__hAisU",A=function(t){var e=t.taskList,s=t.closeModalList,a=(0,m.Z)("(max-width: 767.9px)");return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:O,onClick:s}),(0,_.jsx)("div",{className:F,children:(0,_.jsx)("div",{className:S,children:e.tasks.map((function(t,e){return(0,_.jsx)("div",{children:a?e>0&&(0,_.jsx)(W,{task:t}):e>1&&(0,_.jsx)(W,{task:t})},e)}))})})]})},B="daysWithTasks_styledTd__DGEua",G="daysWithTasks_styledNumberDay__OvvxE",R="daysWithTasks_today__sqVjM",V="daysWithTasks_styledModalTd__ve0BM",q="daysWithTasks_burgerListTasks__AZIKv",J=function(t){var e=t.day,s=t.handleClick,a=(0,m.Z)("(max-width: 767.9px)"),n=(0,p.useState)(!1),r=(0,g.Z)(n,2),i=r[0],l=r[1];(0,p.useEffect)((function(){var t=function(t){"Escape"===t.code&&i&&l(!i)};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[i]);var d=function(){l(!i)};return(0,_.jsxs)("td",{className:B,onClick:function(t){return s(t,e.date)},children:[(0,_.jsx)("p",{className:w((0,T.default)(e.date))?R:G,onClick:function(t){return s(t,e.date)},children:N(e.date)}),e.tasks.length>0?(0,_.jsxs)(_.Fragment,{children:[e.tasks.map((function(t,e){return(0,_.jsx)("div",{children:a?0===e&&(0,_.jsx)(W,{task:t}):e<=1&&(0,_.jsx)(W,{task:t})},e)})),a&&e.tasks.length>1?(0,_.jsxs)("p",{className:q,onClick:d,children:["+",e.tasks.length-1," ..."]}):!a&&e.tasks.length>2?(0,_.jsxs)("p",{className:q,onClick:d,children:["+",e.tasks.length-2," tasks"]}):null]}):null,i&&(0,_.jsx)("div",{className:V,children:(0,_.jsx)(A,{closeModalList:function(t){t.target===t.currentTarget&&l(!i)},taskList:e})})]})},P="calendarTable_calendarTableWrapper__idOhD",U="calendarTable_calendarTableStyle__7uTI4",z="calendarTable_claendarTableBody__Jrm6I",K=function(t){var e=t.tasks,s=t.currentDate,n=(0,a.I0)(),r=(0,k.s0)(),i=c(s),l=i.daysOfMonth,d=i.firstDayOfMonth,o=l.map((function(t){return{date:(0,j.default)(t,"yyyy-MM-dd"),tasks:e.filter((function(e){return e.date.start.slice(0,10)===(0,j.default)(t,"yyyy-MM-dd")}))}})),u=function(t,e){t.currentTarget===t.target&&(n((0,v.G)(e)),r("/calendar/day/".concat(e)))},h=[],m=function(t){return Array.from({length:t},(function(t,e){return(0,_.jsx)("td",{},"empty-".concat(e))}))}(d);return o.forEach((function(t,e){m.push((0,_.jsx)(J,{day:t,handleClick:u},e)),7!==m.length&&e!==o.length-1||(h.push((0,_.jsx)("tr",{children:m},t.date)),m=[])})),(0,_.jsx)("div",{className:P,children:(0,_.jsx)("table",{className:U,children:(0,_.jsx)("tbody",{className:z,children:h})})})},Y="choosedMonth_choosedMonthWrapper__gJPgY",Q=function(){var t=(0,a.v9)(u.i),e=(0,a.v9)(h.p),s=c(t),r=s.startMonth,i=s.endMonth,l=e.filter((function(t){var e=new Date(t.date.start);return(0,n.default)(e,{start:r,end:i})}));return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(x,{}),(0,_.jsx)("div",{className:Y,children:(0,_.jsx)(K,{tasks:l,currentDate:t})})]})}}}]);
//# sourceMappingURL=414.9976a3ae.chunk.js.map